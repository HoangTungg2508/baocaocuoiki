{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nfunction ProductsAPI() {\n  _s();\n  //   tạo các state variables\n  const [products, setProducts] = useState([]);\n  const [callback, setCallback] = useState(false);\n  const [category, setCategory] = useState(\"\");\n  const [sort, setSort] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [result, setResult] = useState(0);\n  useEffect(() => {\n    const getProducts = async () => {\n      const res = await axios.get(`/api/products?limit=${page * 9}&${category}&${sort}&title[regex]=${search}`);\n      setProducts(res.data.products);\n      setResult(res.data.result);\n    };\n    getProducts();\n  }, [callback, category, sort, search, page]);\n  return {\n    // lưu trữ danh sách sản phẩm.\n    products: [products, setProducts],\n    //  cập nhật và ghi đè danh sách sản phẩm khi cần thiết.\n    callback: [callback, setCallback],\n    //  lưu trữ và cập nhật danh mục sản phẩm được lọc.\n    category: [category, setCategory],\n    //  lưu trữ và cập nhật cách sắp xếp danh sách sản phẩm.\n    sort: [sort, setSort],\n    // để lưu trữ và cập nhật từ khóa tìm kiếm.\n    search: [search, setSearch],\n    //lưu trữ và cập nhật trang hiện tại của danh sách sản phẩm.\n    page: [page, setPage],\n    // lưu trữ số lượng sản phẩm kết quả.\n    result: [result, setResult]\n  };\n}\n_s(ProductsAPI, \"87LD6obSHxoKMyN8DxLNDX3KCMQ=\");\n_c = ProductsAPI;\nexport default ProductsAPI;\nvar _c;\n$RefreshReg$(_c, \"ProductsAPI\");","map":{"version":3,"names":["useState","useEffect","axios","ProductsAPI","_s","products","setProducts","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","getProducts","res","get","data","_c","$RefreshReg$"],"sources":["C:/Users/Admin/OneDrive - Danang University of Education/Desktop/ecommerce_mern/client/src/api/ProductsAPI.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction ProductsAPI() {\r\n  //   tạo các state variables\r\n  const [products, setProducts] = useState([]);\r\n  const [callback, setCallback] = useState(false);\r\n  const [category, setCategory] = useState(\"\");\r\n  const [sort, setSort] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [result, setResult] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const getProducts = async () => {\r\n      const res = await axios.get(\r\n        `/api/products?limit=${\r\n          page * 9\r\n        }&${category}&${sort}&title[regex]=${search}`\r\n      );\r\n      setProducts(res.data.products);\r\n      setResult(res.data.result);\r\n    };\r\n    getProducts();\r\n  }, [callback, category, sort, search, page]);\r\n\r\n  return {\r\n    // lưu trữ danh sách sản phẩm.\r\n    products: [products, setProducts],\r\n    //  cập nhật và ghi đè danh sách sản phẩm khi cần thiết.\r\n    callback: [callback, setCallback],\r\n    //  lưu trữ và cập nhật danh mục sản phẩm được lọc.\r\n    category: [category, setCategory],\r\n    //  lưu trữ và cập nhật cách sắp xếp danh sách sản phẩm.\r\n    sort: [sort, setSort],\r\n    // để lưu trữ và cập nhật từ khóa tìm kiếm.\r\n    search: [search, setSearch],\r\n    //lưu trữ và cập nhật trang hiện tại của danh sách sản phẩm.\r\n    page: [page, setPage],\r\n    // lưu trữ số lượng sản phẩm kết quả.\r\n    result: [result, setResult],\r\n  };\r\n}\r\n\r\nexport default ProductsAPI;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACrB;EACA,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACW,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACa,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACe,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAACiB,MAAM,EAAEC,SAAS,CAAC,GAAGlB,QAAQ,CAAC,CAAC,CAAC;EAEvCC,SAAS,CAAC,MAAM;IACd,MAAMkB,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,MAAMC,GAAG,GAAG,MAAMlB,KAAK,CAACmB,GAAG,CACxB,uBACCN,IAAI,GAAG,CACR,IAAGN,QAAS,IAAGE,IAAK,iBAAgBE,MAAO,EAC9C,CAAC;MACDP,WAAW,CAACc,GAAG,CAACE,IAAI,CAACjB,QAAQ,CAAC;MAC9Ba,SAAS,CAACE,GAAG,CAACE,IAAI,CAACL,MAAM,CAAC;IAC5B,CAAC;IACDE,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACZ,QAAQ,EAAEE,QAAQ,EAAEE,IAAI,EAAEE,MAAM,EAAEE,IAAI,CAAC,CAAC;EAE5C,OAAO;IACL;IACAV,QAAQ,EAAE,CAACA,QAAQ,EAAEC,WAAW,CAAC;IACjC;IACAC,QAAQ,EAAE,CAACA,QAAQ,EAAEC,WAAW,CAAC;IACjC;IACAC,QAAQ,EAAE,CAACA,QAAQ,EAAEC,WAAW,CAAC;IACjC;IACAC,IAAI,EAAE,CAACA,IAAI,EAAEC,OAAO,CAAC;IACrB;IACAC,MAAM,EAAE,CAACA,MAAM,EAAEC,SAAS,CAAC;IAC3B;IACAC,IAAI,EAAE,CAACA,IAAI,EAAEC,OAAO,CAAC;IACrB;IACAC,MAAM,EAAE,CAACA,MAAM,EAAEC,SAAS;EAC5B,CAAC;AACH;AAACd,EAAA,CAvCQD,WAAW;AAAAoB,EAAA,GAAXpB,WAAW;AAyCpB,eAAeA,WAAW;AAAC,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}